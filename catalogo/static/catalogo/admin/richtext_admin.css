/* catalogo/static/catalogo/admin/richtext_admin.css */

/* Row gets flexible space so right-side boxes can sit nicely */
.form-row.rt-row{
  display: flex;
  gap: 14px;
  align-items: flex-start;
}

/* Keep the default Django field column flexible */
.form-row.rt-row > div.fieldBox,
.form-row.rt-row .fieldBox{
  flex: 1 1 auto;
  min-width: 320px;
}

/* Right-side preview container */
.rt-preview-box{
  flex: 0 0 460px;
  max-width: 560px;
}

/* Toolbar */
.rt-toolbar{
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 8px;
}

/* Button: keep admin look */
.rt-preview-btn{
  margin: 0;
}

/* Panel styling using Django admin theme variables */
.rt-preview-panel{
  border: 1px solid var(--border-color, rgba(0,0,0,0.18));
  border-radius: 8px;
  background: var(--body-bg, #fff);
  color: var(--body-fg, #111);
  padding: 10px 12px;
}

/* Render target */
.rt-preview-body{
  font-size: 13px;
  line-height: 1.45;
}

.rt-muted{
  opacity: 0.75;
}

/* Basic typography inside preview */
.rt-preview-body p{ margin: 0 0 0.65em 0; }
.rt-preview-body p:last-child{ margin-bottom: 0; }
.rt-preview-body ul,
.rt-preview-body ol{ margin: 0.25em 0 0.75em 1.25em; }
.rt-preview-body li{ margin: 0.2em 0; }
.rt-preview-body a{ color: var(--link-fg, #0b57d0); }

/* ----------------------------
   INLINE CODE (formula/token style)
   - No red
   - Uses Cambria Math if available
   - Works in dark/light via admin CSS vars
   ---------------------------- */
.rt-preview-body code{
  /* IMPORTANT: avoid inheriting "danger/red" styles from other CSS */
  color: inherit;

  /* Academic-ish formula style (best-effort):
     Cambria Math (if installed) -> system fallbacks -> monospace */
  font-family:
    "Cambria Math",
    "STIX Two Math",
    "Latin Modern Math",
    ui-monospace,
    SFMono-Regular,
    Menlo,
    Monaco,
    Consolas,
    "Liberation Mono",
    "Courier New",
    monospace;

  font-size: 0.96em;

  background: var(--darkened-bg, rgba(0,0,0,0.06));
  border: 1px solid var(--hairline-color, rgba(0,0,0,0.12));
  border-radius: 6px;
  padding: 0.1em 0.35em;
}

/* If someday block code appears, keep it readable */
.rt-preview-body pre{
  background: var(--darkened-bg, rgba(0,0,0,0.04));
  border: 1px solid var(--hairline-color, rgba(0,0,0,0.12));
  border-radius: 8px;
  padding: 10px 12px;
  margin: 0.25em 0 0.75em 0;
  overflow: auto;
}

.rt-preview-body pre code{
  background: transparent;
  border: 0;
  padding: 0;
  font-size: 0.95em;
  white-space: pre;
}

/* Loading / error */
.rt-preview-body.rt-loading{
  opacity: 0.75;
}

.rt-error{
  color: var(--error-fg, #ba2121);
  font-weight: 600;
}

/* Cheat sheet */
.rt-cheatsheet{
  border: 1px dashed rgba(86,169,255,0.45);
  border-radius: 8px;
  padding: 6px 10px;
  background: rgba(86,169,255,0.08);
}

.rt-cheatsheet > summary{
  cursor: pointer;
  font-weight: 700;
  color: var(--body-fg, #111);
}

.rt-cheatsheet-body{
  margin-top: 8px;
  font-size: 12px;
  color: var(--body-fg, #111);
}

.rt-cheatsheet-body code{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 11px;
}

.rt-line{ margin: 2px 0; }

.rt-note{
  opacity: 0.8;
  margin-top: 4px;
}

/* Responsive: stack on small screens */
@media (max-width: 1024px){
  .form-row.rt-row{
    flex-direction: column;
  }
  .rt-preview-box{
    flex: 1 1 auto;
    max-width: none;
  }
}
